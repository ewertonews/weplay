<div class="btn-cadastrar">    
    <mat-form-field class="filtro">
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Procurar música" autocomplete="off">
    </mat-form-field>
    <div class="pull-right">
        <button mat-mini-fab color="primary" (click)="openCriarMusicaDialog()"><i class="fa fa-plus"></i></button>
        Adicionar Música
    </div>             
</div>
<div *ngIf="!musicas">
    <p>Este grupo ainda não tem músicas cadastradas</p>
</div>
<div class="mat-elevation-z8">

    <table mat-table [dataSource]="dataSource" matSort>    
         <!-- Checkbox Column -->
        <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef  style="width: 45px">
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                                    [checked]="selection.hasValue() && isAllSelected()"
                                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                                   >
                    </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
                <mat-checkbox (click)="$event.stopPropagation()"
                                (change)="$event ? selection.toggle(row) : null"
                                [checked]="selection.isSelected(row)" >
                </mat-checkbox>
            </td>
        </ng-container>
        <ng-container matColumnDef="nome">
            <th style="font-weight: bold;" class="th-nome" mat-header-cell *matHeaderCellDef mat-sort-header> Nome </th>
            <td mat-cell class="th-nome" *matCellDef="let row"> {{row.nome}} </td>
        </ng-container>
    
        <ng-container matColumnDef="artista">
            <th style="font-weight: bold" mat-header-cell class="th-nome" *matHeaderCellDef mat-sort-header> Artista </th>
            <td mat-cell class="th-nome" *matCellDef="let row"> {{row.artista}} </td>
        </ng-container>
    
        <ng-container matColumnDef="linkOuvir">
            <th style="font-weight: bold; width: 45px" mat-header-cell *matHeaderCellDef mat-sort-header>Ouvir</th>
            <td mat-cell *matCellDef="let row">
                <a *ngIf="row.linkOuvir" href="{{row.linkOuvir}}" target="_blank"><i class="fa fa-play-circle fa-2x" aria-hidden="true"></i></a>              
            </td>
        </ng-container>
        <ng-container matColumnDef="linkCifra">
            <th style="font-weight: bold; width: 45px" mat-header-cell *matHeaderCellDef mat-sort-header> Link Cifra </th>
            <td mat-cell *matCellDef="let row">
                <a *ngIf="row.linkCifra" href="{{row.linkCifra}}" target="_blank"><img src="../../../assets/img/cifraclub.png" height="31vh" /> </a>         
            </td>
        </ng-container>
        <ng-container matColumnDef="quantidadeVezesTocada">
            <th style="font-weight: bold; width: 75px;" mat-header-cell *matHeaderCellDef mat-sort-header># Tocadas</th>
            <td mat-cell *matCellDef="let row"> {{row.quantidadeVezesTocada}} </td>
        </ng-container>
    
        <ng-container matColumnDef="ultimaVezTocada">
            <th style="font-weight: bold; width: 100px" mat-header-cell *matHeaderCellDef mat-sort-header>Ultima vez tocada</th>
            <td mat-cell *matCellDef="let row"> {{row.ultimaVezTocada}} </td>
        </ng-container>

        <ng-container matColumnDef="tags">
            <th style="font-weight: bold; width: 100px" mat-header-cell *matHeaderCellDef mat-sort-header>Temas</th>
            <td mat-cell *matCellDef="let row"> {{row.tags}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    
    <mat-paginator [pageSizeOptions]="[10, 25, 100, 150]"></mat-paginator>
    </div>
    <!-- <iframe src="https://open.spotify.com/embed/album/4dINu1pPco8xAJcJkg8U2J" width="500" height="280" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe> -->
